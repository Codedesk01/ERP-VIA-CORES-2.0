<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Sistema de Gerenciamento - Login</title>
<link href="css/style.css" rel="stylesheet"/>
<link href="css/components.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .login-container {
            background: var(--bg-primary);
            border-radius: 16px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            padding: 3rem;
            width: 100%;
            max-width: 400px;
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-logo {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .login-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .login-subtitle {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .login-form {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            background: var(--bg-primary);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .input-group {
            position: relative;
        }

        .input-group .form-control {
            padding-left: 3rem;
        }

        .input-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .btn-login {
            width: 100%;
            padding: 0.875rem;
            background: var(--primary-color);
            color: var(--text-white);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-login:hover:not(:disabled) {
            background: var(--primary-dark);
        }

        .btn-login:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .login-divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .login-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--border-color);
        }

        .login-divider span {
            background: var(--bg-primary);
            padding: 0 1rem;
        }

        .test-accounts {
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
            padding: 1rem;
        }

        .test-accounts h4 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            text-align: center;
        }

        .account-list {
            display: grid;
            gap: 0.5rem;
        }

        .account-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: var(--bg-primary);
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .account-item:hover {
            background: var(--primary-color);
            color: var(--text-white);
        }

        .account-name {
            font-weight: 500;
        }

        .account-credentials {
            color: var(--text-secondary);
            font-family: monospace;
        }

        .account-item:hover .account-credentials {
            color: rgba(255, 255, 255, 0.8);
        }

        .alert {
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }

        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .alert-success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }

        .loading-spinner {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @media (max-width: 480px) {
            .login-container {
                padding: 2rem 1.5rem;
            }
        }
    </style>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" rel="stylesheet"/><link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/><link href="assets/css/saas.css" rel="stylesheet"/></head>
<body><nav class="navbar navbar-expand-lg navbar-dark saas">
<div class="container-fluid">
<a class="navbar-brand saas-logo" href="index.html">
<i class="bi bi-stars me-2"></i>Sistema<span class="opacity-80">Pro</span>
</a>
<button aria-controls="navMain" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler btn-brand shadow-soft rounded-2xl btn" data-bs-target="#navMain" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navMain">
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item"><a class="nav-link" href="index.html"><i class="bi bi-speedometer2 me-1"></i>Home</a></li>
<li class="nav-item"><a class="nav-link" href="estoque.html"><i class="bi bi-box-seam me-1"></i>Estoque</a></li>
<li class="nav-item"><a class="nav-link" href="pedidos.html"><i class="bi bi-receipt me-1"></i>Pedidos</a></li>
</ul>
</div>
</div>
</nav>
<div class="login-container">
<div class="login-header">
<div class="login-logo">
<i class="fas fa-cogs"></i>
</div>
<h1 class="login-title">Sistema de Gerenciamento</h1>
<p class="login-subtitle">Faça login para acessar o sistema</p>
</div>
<div id="alertContainer"></div>
<form class="login-form" id="loginForm">
<div class="form-group">
<label class="form-label" for="username">Usuário</label>
<div class="input-group">
<i class="fas fa-user input-icon"></i>
<input class="form-control" id="username" placeholder="Digite seu usuário" required="" type="text"/>
</div>
</div>
<div class="form-group">
<label class="form-label" for="password">Senha</label>
<div class="input-group">
<i class="fas fa-lock input-icon"></i>
<input class="form-control" id="password" placeholder="Digite sua senha" required="" type="password"/>
</div>
</div>
<button class="btn-brand btn-login shadow-soft rounded-2xl btn" id="loginBtn" type="submit">
<i class="fas fa-sign-in-alt"></i>
                Entrar
            </button>
</form>
<div class="login-divider">
<span>Contas de Teste</span>
</div>
<div class="test-accounts">
<h4>Clique para usar uma conta de teste:</h4>
<div class="account-list">
<div class="account-item" data-password="admin123" data-username="admin">
<span class="account-name">Admin Master</span>
<span class="account-credentials">admin / admin123</span>
</div>
<div class="account-item" data-password="prod123" data-username="producao">
<span class="account-name">Admin Produção</span>
<span class="account-credentials">producao / prod123</span>
</div>
<div class="account-item" data-password="est123" data-username="estoque">
<span class="account-name">Usuário Estoque</span>
<span class="account-credentials">estoque / est123</span>
</div>
<div class="account-item" data-password="ped123" data-username="pedidos">
<span class="account-name">Usuário Pedidos</span>
<span class="account-credentials">pedidos / ped123</span>
</div>
<div class="account-item" data-password="cos123" data-username="costura">
<span class="account-name">Usuário Costura</span>
<span class="account-credentials">costura / cos123</span>
</div>
</div>
</div>
</div>
<script src="data/sample-data.js"></script>
<script src="js/auth.js"></script>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const loginBtn = document.getElementById('loginBtn');
            const alertContainer = document.getElementById('alertContainer');
            const accountItems = document.querySelectorAll('.account-item');

            // Se já estiver logado, redireciona
            if (localStorage.getItem('isAuthenticated') === 'true') {
                window.location.href = 'usuario.html';
                return;
            }

            // Event listener para contas de teste
            accountItems.forEach(item => {
                item.addEventListener('click', function() {
                    const username = this.getAttribute('data-username');
                    const password = this.getAttribute('data-password');
                    
                    usernameInput.value = username;
                    passwordInput.value = password;
                    
                    // Destaca o item selecionado
                    accountItems.forEach(i => i.style.background = '');
                    this.style.background = 'var(--primary-color)';
                    this.style.color = 'white';
                    
                    setTimeout(() => {
                        this.style.background = '';
                        this.style.color = '';
                    }, 1000);
                });
            });

            // Event listener para o formulário
            loginForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const username = usernameInput.value.trim();
                const password = passwordInput.value.trim();
                
                if (!username || !password) {
                    showAlert('Por favor, preencha todos os campos.', 'error');
                    return;
                }

                // Desabilita o botão e mostra loading
                loginBtn.disabled = true;
                loginBtn.innerHTML = '<i class="fas fa-spinner loading-spinner"></i> Entrando...';

                try {
                    const result = await window.authSystem.login(username, password);
                    
                    if (result.success) {
                        showAlert(result.message, 'success');
                        
                        // Redireciona após 1 segundo
                        setTimeout(() => {
                            window.location.href = 'usuario.html';
                        }, 1000);
                    }
                } catch (error) {
                    showAlert(error.message, 'error');
                } finally {
                    // Reabilita o botão
                    loginBtn.disabled = false;
                    loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Entrar';
                }
            });

            // Função para mostrar alertas
            function showAlert(message, type) {
                alertContainer.innerHTML = `
                    <div class="alert alert-${type}">
                        <i class="fas fa-${type === 'error' ? 'exclamation-circle' : 'check-circle'}"></i>
                        ${message}
                    </div>
                `;

                // Remove o alerta após 5 segundos
                setTimeout(() => {
                    alertContainer.innerHTML = '';
                }, 5000);
            }

            // Foco inicial no campo de usuário
            usernameInput.focus();

            // Enter no campo de senha submete o formulário
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    loginForm.dispatchEvent(new Event('submit'));
                }
            });
        });
    </script>
<script crossorigin="anonymous" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIr9GkG6HfQZrEn6eZx8SGvtQvV4H14R/2f0IY3Qm9" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script><script src="assets/js/saas.js"></script></body>
</html>
